const pokemonRepository=function(){let e=[];function t(){return e}function o(t){return"object"!=typeof t?console.log("Error: data was not of type object"):JSON.stringify(Object.keys(t))!==JSON.stringify(["name","detailsUrl"])?console.log("Error: data was not in the correct format"):void e.push(t)}function n(e){let t=document.querySelector(".pokemon-list"),o=document.createElement("li"),n=document.createElement("button");$(n).text(e.name),$(n).addClass("button__primary list-group-item btn btn-dark"),$(n).on("click",()=>(function e(t){r(t).then(()=>{pokemonModal.showModal(t)})})(e)),$(n).attr("data-toggle","modal"),$(n).attr("data-target","#pokedex-modal-container"),$(o).append(n),$(t).append(o)}function r(e){return a(),fetch(e.detailsUrl).then(e=>e.json()).then(t=>{e.imageUrl=t.sprites.front_default,e.height=t.height,e.weight=t.weight,e.types=t.types,i()}).catch(e=>{i(),console.error(e)})}function a(){let e=document.getElementById("loading-message").classList;e.remove("hide-loading-message"),e.add("show-loading-message")}function i(){let e=document.getElementById("loading-message").classList;e.remove("show-loading-message"),e.add("hide-loading-message")}return{getAll:t,addNewPokemon:o,search:function t(o){!function e(){let t=document.querySelector(".pokemon-list");t.innerHTML=""}();e.filter(e=>e.name.includes(o.toLowerCase())).forEach(e=>{n(e)})},addListItem:n,loadList:function e(){return a(),fetch("https://pokeapi.co/api/v2/pokemon/?limit=300").then(e=>e.json()).then(e=>{e.results.forEach(e=>{o({name:e.name,detailsUrl:e.url})}),i()}).catch(e=>{i(),console.error(e)})},loadDetails:r}}(),pokemonModal=function(){function e(){document.querySelector(".pokedex-modal-close")&&document.querySelector(".pokedex-modal-close").remove(),document.querySelector(".pokemon-img")&&document.querySelector(".pokemon-img").remove(),document.querySelector("#about-screen").innerHTML&&(document.querySelector("#about-screen").innerHTML=""),document.querySelector("#type-screen").innerHTML&&(document.querySelector("#type-screen").innerHTML="")}return{showModal:function t(o){e(),function e({imageUrl:t}){let o=document.querySelector(".pokemon-img-container"),n=document.createElement("img");return $(n).attr("src",t).addClass("pokemon-img"),$(o).append(n),o}(o),function e({height:t,weight:o}){let n=document.querySelector("#about-screen"),r=`Height: ${t}<br>Weight: ${o}`;return n.innerHTML=r,n}(o),function e({types:t}){let o=document.querySelector("#type-screen");return $(o).text(t[0].type.name),o}(o),function e(){let t=document.querySelector(".modal-body"),o=document.createElement("button");$(o).addClass("pokedex-modal-close button__primary btn btn-dark"),$(o).text("Close"),$(o).attr("data-dismiss","modal"),$(t).append(o)}()},hideModal:e}}();pokemonRepository.loadList().then(()=>{pokemonRepository.getAll().forEach(e=>{pokemonRepository.addListItem(e)})});const searchInput=document.getElementById("name-input");searchInput.addEventListener("input",e=>{pokemonRepository.search(e.target.value)});